# 営業タスク管理ツール - 仕様書

## システム概要
営業チーム向けのタスク管理ツール。Firebase Hostingでデプロイされており、複数ユーザーでのタスク管理が可能。

## URL
- 本番環境: https://buzzlog-6fc74.web.app
- Firebase Console: https://console.firebase.google.com/project/buzzlog-6fc74/overview

## ログイン情報

### 人員マスター連動ログイン
人員マスターに登録されている人のみログイン可能

| ユーザー名 | パスワード | 備考 |
|----------|----------|------|
| 山田太郎 | yamada123 | 初期登録メンバー |
| 佐藤花子 | sato123 | 初期登録メンバー |
| 鈴木一郎 | suzuki123 | 初期登録メンバー |
| pialabuzz | pialabuzz1234 | 管理者用（互換性維持） |

※ 新規追加した人員は、名前の最初の2文字（小文字） + `123` がパスワードになります

## 主要機能

### 1. タスク管理
- **タスクタイプ**: 部署タスク、プロジェクトタスク、個人タスク
- **優先度設定**: 高（赤↑）、中（黄→）、低（青↓）
- **ステータス管理**: 未対応、処理中、処理完了、終了
- **担当者設定**: 全タスクタイプで担当者設定可能
- **期限管理**: 開始日・終了日の設定

### 2. 通知機能
- ダッシュボードのヘッダーにベルマークアイコン
- 自分が担当者のタスクに変更があった場合に通知
  - タスク内容の変更
  - ステータスの変更
  - 他者からのコメント追加
- 通知クリックで該当タスク詳細へ遷移
- 変更箇所が2秒間ハイライト表示

### 3. フィルタリング・ソート機能
- **カテゴリフィルタ**: タスクタイプ別表示
- **担当者フィルタ**: 担当者で絞り込み
- **ステータスフィルタ**: 進捗状況で絞り込み
- **並び替え**: 優先度順、開始日順、終了日順、ステータス順

### 4. マスター管理
- **人員マスター**: チームメンバーの管理（ログインユーザーと連動）
- **プロジェクトマスター**: プロジェクトの管理

### 5. タスク詳細機能
- タスク情報の編集
- コメント機能
- 変更履歴の自動記録
- 担当者への通知（コメント追加時）

## 表示仕様

### タスク一覧（コンパクト表示）
- 1タスクの高さを最小限に抑えた設計
- 横一列レイアウト: [タスク名] [優先度] [ステータス] [期限] [担当者] [詳細]
- 多数のタスクを一覧で確認可能

### 優先度表示
- **高**: 赤色の上矢印（↑）
- **中**: 黄色の右矢印（→）
- **低**: 青色の下矢印（↓）

### ステータス表示
- 色分けされたバッジ形式
- 視認性の高いデザイン

## 技術仕様

### フロントエンド
- HTML/CSS/JavaScript（バニラJS）
- LocalStorage でデータ管理
- レスポンシブデザイン対応

### ホスティング
- Firebase Hosting
- デプロイコマンド: `firebase deploy`

### ファイル構成
```
/
├── index.html          # ログイン画面
├── dashboard.html      # メイン画面
├── task-detail.html    # タスク詳細画面
├── auth.js            # 認証処理
├── app.js             # メインアプリケーション
├── data.js            # データ管理
├── task-detail.js     # タスク詳細処理
├── styles.css         # スタイルシート
└── firebase.json      # Firebase設定
```

## 開発時の注意事項

### コード規約
- コメントは必要最小限に
- 既存のコードスタイルに従う
- セキュリティに配慮（秘密情報の扱い）

### デプロイ
- 機能実装・修正完了後は必ず `firebase deploy` を実行
- デプロイ完了を確認してから作業終了

### テスト
- ブラウザキャッシュのクリア（Ctrl+F5）を推奨
- 複数ユーザーでの動作確認

## 更新履歴

### 最新の更新
1. マルチユーザー対応（人員マスター連動ログイン）
2. 通知機能の実装
3. 優先度機能の追加
4. タスク一覧のコンパクト表示化
5. フィルタリング機能の改善

## トラブルシューティング

### 機能が表示されない場合
1. ブラウザキャッシュをクリア（Ctrl+Shift+R）
2. シークレットモードで確認
3. Firebase デプロイの反映待ち（数分かかる場合あり）

### ログインできない場合
1. 人員マスターに登録されているか確認
2. パスワードルールを確認（苗字ローマ字+123）
3. 大文字小文字の入力ミスを確認